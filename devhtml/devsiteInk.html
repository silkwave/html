<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>E-Ink 개발 페이퍼</title>
  <style>
    /* =======================
       전자종이 변수 정의
       ======================= */
    :root {
      --paper-bg: #f4f4f4; /* 약간 미색이 도는 종이색 */
      --ink-black: #1a1a1a; /* 완전한 검정보다 약간 부드러운 먹색 */
      --ink-gray: #555555;
      --border-width: 2px;
    }

    /* =======================
       기본 스타일 및 종이 질감
       ======================= */
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    
    body {
      margin: 0;
      padding: 0;
      background-color: var(--paper-bg);
      /* 미세한 종이 질감을 위한 노이즈 패턴 (데이터 URI) */
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3能源%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      background-blend-mode: multiply;
      opacity: 0.98;
      color: var(--ink-black);
      /* 가독성을 위한 명조체(Serif) 우선 설정 */
      font-family: 'Apple SD Gothic Neo', 'Nanum Myeongjo', serif;
      line-height: 1.6;
    }

    /* =======================
       레이아웃
       ======================= */
    .site-wrapper {
      display: flex;
      flex-direction: column;
      gap: 24px;
      max-width: 650px;
      margin: 40px auto 160px;
      padding: 0 20px;
    }

    .site-wrapper.show-all {
      flex-direction: row;
      flex-wrap: wrap;
      max-width: 1100px;
    }

    .site-wrapper.show-all .site-card {
      flex: 1 1 calc(50% - 24px);
    }

    /* =======================
       카드 스타일 (전자종이 버전)
       ======================= */
    .site-card {
      padding: 30px;
      background: white;
      border: var(--border-width) solid var(--ink-black);
      /* 그림자 대신 명확한 오프셋 선 사용 가능 */
      box-shadow: 4px 4px 0px var(--ink-black);
      transition: transform 0.1s;
    }

    .site-card h3 {
      font-size: 26px;
      font-weight: 900;
      margin: 0 0 10px 0;
      text-decoration: underline;
      text-underline-offset: 6px;
    }

    .site-card p {
      font-size: 15px;
      color: var(--ink-gray);
      margin-bottom: 25px;
    }

    /* =======================
       링크 리스트 (신문 레이아웃 느낌)
       ======================= */
    .link-list {
      list-style: none;
      padding: 0;
      margin: 0 0 20px 0;
      border-top: var(--border-width) solid var(--ink-black);
    }

    .link-button {
      display: block;
      padding: 12px 5px;
      text-decoration: none;
      color: var(--ink-black);
      font-weight: 700;
      font-size: 16px;
      border-bottom: 1px solid var(--ink-black);
      transition: background 0.2s;
    }

    .link-button:hover {
      background: var(--ink-black);
      color: white;
    }

    .link-button::before {
      content: "■ ";
      font-size: 10px;
      vertical-align: middle;
    }

    /* =======================
       메모장 (종이 질감 인풋)
       ======================= */
    .card-input {
      width: 100%;
      padding: 15px;
      border: 1px solid var(--ink-gray);
      background: transparent;
      color: var(--ink-black);
      font-family: inherit;
      font-size: 15px;
      height: 120px;
      resize: none;
      /* 줄노트 느낌 배경 */
      background-image: linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px);
      background-size: 100% 1.6em;
    }

    .card-input:focus {
      outline: none;
      border: var(--border-width) solid var(--ink-black);
    }

    /* =======================
       하단 컨트롤 (물리 버튼 느낌)
       ======================= */
    #cardControls {
      position: fixed;
      left: 50%;
      bottom: 40px;
      transform: translateX(-50%);
      display: flex;
      gap: 0; /* 버튼 사이 간격 제거하여 일체감 형성 */
      width: 90%;
      max-width: 450px;
      background: white;
      border: 3px solid var(--ink-black);
      box-shadow: 6px 6px 0px rgba(0,0,0,0.2);
      z-index: 1000;
    }

    #cardControls button {
      flex: 1;
      height: 55px;
      border: none;
      background: white;
      color: var(--ink-black);
      font-size: 16px;
      font-weight: 800;
      cursor: pointer;
      border-right: 2px solid var(--ink-black);
    }

    #cardControls button:last-child { border-right: none; }

    #cardControls button:active {
      background: var(--ink-black);
      color: white;
    }

    #cardControls button:disabled {
      color: #ccc;
      cursor: not-allowed;
    }

    #toggleAll {
      background: #e0e0e0 !important;
    }

    /* 반응형 */
    @media (max-width: 768px) {
      .site-wrapper.show-all .site-card { flex: 1 1 100%; }
      .site-card { padding: 20px; }
    }
  </style>
</head>
<body>

    <main class="site-wrapper">
        <section class="site-card">
            <h3>개발</h3>
            <p>코딩 필수 링크</p>
            <ul class="link-list">
                <li><a class="link-button" href="https://www.google.com" target="_blank">구글 검색</a></li>
                <li><a class="link-button" href="https://github.com" target="_blank">GitHub 저장소</a></li>
                <li><a class="link-button" href="https://stackoverflow.com" target="_blank">스택 오버플로우</a></li>
            </ul>
            <textarea class="card-input" placeholder="메모를 작성하세요..."></textarea>            
        </section>

        <section class="site-card">
            <h3>품질 관리</h3>
            <p>분석 및 테스트 도구</p>
            <ul class="link-list">
                <li><a class="link-button" href="https://www.sonarqube.org/" target="_blank">SonarQube</a></li>
                <li><a class="link-button" href="https://www.jenkins.io/" target="_blank">Jenkins CI</a></li>
                <li><a class="link-button" href="https://snyk.io/" target="_blank">Snyk Security</a></li>
            </ul>
            <textarea class="card-input" placeholder="메모를 작성하세요..."></textarea>            
        </section>

        <section class="site-card">
            <h3>운영</h3>
            <p>모니터링 및 인프라</p>
            <ul class="link-list">
                <li><a class="link-button" href="https://grafana.com/" target="_blank">Grafana 대시보드</a></li>
                <li><a class="link-button" href="https://aws.amazon.com/" target="_blank">AWS 콘솔</a></li>
                <li><a class="link-button" href="https://www.datadoghq.com/" target="_blank">Datadog</a></li>
            </ul>
            <textarea class="card-input" placeholder="메모를 작성하세요..."></textarea>            
        </section>
    </main>

    <nav id="cardControls">
        <button id="prevCard">이전</button>
        <button id="toggleAll">전체 보기</button>
        <button id="nextCard">다음</button>
    </nav>

    <script>
        (function() {
          // DOM 요소 참조
          const cards = Array.from(document.querySelectorAll('.site-card'));
          const prevBtn = document.getElementById('prevCard');
          const nextBtn = document.getElementById('nextCard');
          const toggleAll = document.getElementById('toggleAll');
          const wrapper = document.querySelector('.site-wrapper');
          
          // 현재 카드 인덱스 및 전체 보기 상태 관리
          let index = 0;
          let isShowAll = false;

          // 화면 상태 업데이트 함수
          function updateView() {
            if (isShowAll) {
              // 전체 보기 모드: 모든 카드를 표시하고 네비게이션 버튼 비활성화
              wrapper.classList.add('show-all');
              cards.forEach(c => { c.style.display = 'block'; });
              prevBtn.disabled = true;
              nextBtn.disabled = true;
              toggleAll.textContent = '단일 보기';
            } else {
              // 단일 보기 모드: 현재 인덱스의 카드만 표시
              wrapper.classList.remove('show-all');
              cards.forEach((c, i) => {
                c.style.display = i === index ? 'block' : 'none';
              });
              // 첫 번째 혹은 마지막 카드일 경우 이전/다음 버튼 비활성화 처리
              prevBtn.disabled = index === 0;
              nextBtn.disabled = index === cards.length - 1;
              toggleAll.textContent = '전체 보기';
            }
          }

          // 버튼 이벤트 리스너 등록
          prevBtn.addEventListener('click', () => { if (index > 0) { index--; updateView(); } });
          nextBtn.addEventListener('click', () => { if (index < cards.length - 1) { index++; updateView(); } });
          toggleAll.addEventListener('click', () => { isShowAll = !isShowAll; updateView(); });

          // 메모장 기능: LocalStorage를 활용하여 입력 내용 저장 및 복원
          document.querySelectorAll(".card-input").forEach((el, i) => {
            const storageKey = `memo-card-eink-${i}`;
            el.value = localStorage.getItem(storageKey) || "";
            el.addEventListener("input", () => {
              localStorage.setItem(storageKey, el.value);
            });
          });

          // 초기 화면 렌더링
          updateView();
        })();
    </script>
</body>
</html>
