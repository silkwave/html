<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<title>SQL íŒŒë¼ë¯¸í„° ìƒí˜¸ ë³€í™˜ê¸°</title>
<style>
  body { font-family: "Segoe UI", sans-serif; margin: 20px; background:#f9f9f9; color:#222; }
  h2 { color:#333; }
  textarea {
    width: 100%; height: 120px; margin: 8px 0;
    padding: 8px; font-family: monospace;
    border: 1px solid #ccc; border-radius: 4px;
    background: #fff;
  }
  button {
    padding: 8px 14px; margin-right: 8px;
    cursor: pointer; border: none; border-radius: 4px;
    background: #0078d7; color: white;
  }
  button:hover { background: #005fa3; }
  #copyBtn { background: #4caf50; }
  #copyBtn:hover { background: #3e8e41; }
  #status { font-size: 0.9em; color:#555; margin-top:6px; }
</style>
</head>
<body>
  <h2>SQL íŒŒë¼ë¯¸í„° ìƒí˜¸ ë³€í™˜ê¸° (:param â†” #{param})</h2>

  <label>ì…ë ¥ í…ìŠ¤íŠ¸</label>
  <textarea id="inputText">SELECT * FROM users WHERE id = :userId AND name = #{userName};</textarea>

  <div>
    <button onclick="convert()">ë³€í™˜ (ìë™ ë°©í–¥ ê°ì§€)</button>
    <button onclick="copyOutput()" id="copyBtn">ë³µì‚¬</button>
    <button onclick="clearText()">ì´ˆê¸°í™”</button>
  </div>

  <label>ì¶œë ¥ ê²°ê³¼</label>
  <textarea id="outputText" readonly></textarea>

  <div id="status"></div>

<script>
function convert() {
  const input = document.getElementById('inputText').value.trim();
  let output = "";
  let direction = "";

  if (input.includes(':') && !input.includes('#{')) {
    // :param â†’ #{param}
    output = input.replace(/:([A-Za-z0-9_]+)/g, '#{$1}');
    direction = ":param â†’ #{param}";
  } else if (input.includes('#{')) {
    // #{param} â†’ :param
    output = input.replace(/\#\{([A-Za-z0-9_]+)\}/g, ':$1');
    direction = "#{param} â†’ :param";
  } else {
    output = input;
    direction = "ë³€í™˜í•  íŒ¨í„´ì´ ì—†ìŠµë‹ˆë‹¤.";
  }

  document.getElementById('outputText').value = output;
  document.getElementById('status').textContent = "âœ… ë³€í™˜ ë°©í–¥: " + direction;
}

function copyOutput() {
  const text = document.getElementById('outputText').value;
  if (!text) {
    alert("ë³µì‚¬í•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.");
    return;
  }
  navigator.clipboard.writeText(text)
    .then(() => {
      document.getElementById('status').textContent = "ğŸ“‹ ë³µì‚¬ ì™„ë£Œ!";
    })
    .catch(() => {
      alert("ë³µì‚¬ ì‹¤íŒ¨! ë¸Œë¼ìš°ì € ê¶Œí•œì„ í™•ì¸í•˜ì„¸ìš”.");
    });
}

function clearText() {
  document.getElementById('inputText').value = '';
  document.getElementById('outputText').value = '';
  document.getElementById('status').textContent = '';
}
</script>
</body>
</html>
