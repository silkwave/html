# 거래 상태별 처리 기준

이 문서는 `kftc.html`에 명시된 거래 상태별 처리 기준을 정리한 것입니다.

## 1. 조회

| 원거래 상태 | 상태코드 | 조치 | 비고 |
| :--- | :--- | :--- | :--- |
| 존재 | 정상, 오류, 처리중 | 전문을 Drop 처리 | |
| 미존재 | | 조회 업무 처리 | |

## 2. 입금

| 원거래 상태 | 상태코드 | 조치 | 비고 |
| :--- | :--- | :--- | :--- |
| 존재 | 입금정상 | 원거래 응답처리 | | 
| | 입금오류 | 원거래 응답처리 | |
| | 입금처리중 | 원거래 응답처리 | |
| 미존재 | | 입금정상 처리 | |

## 3. 입금취소

| 원거래 상태 | 상태코드 | 조치 | 비고 |
| :--- | :--- | :--- | :--- |
| 존재 | 입금정상 | 입금 취소 처리 | |
| | 입금취소오류 | 전문을 Drop 처리 | |
| | 입금처리중 | 원거래 응답처리 | |
| | 입금취소처리중 | 전문을 Drop 처리 | |
| | 입금취소정상 | 원거래 응답처리 | |
| 미존재 | | 원거래 없음 응답처리 | 있으면 안 되는 상황 |

## 4. 출금

| 원거래 상태 | 상태코드 | 조치 | 비고 |
| :--- | :--- | :--- | :--- |
| 존재 | | 전문을 Drop 처리 | 취소전문 들어옴 |
| 미존재 | | 출금처리 | |

## 5. 출금취소

| 원거래 상태 | 상태코드 | 조치 | 비고 |
| :--- | :--- | :--- | :--- |
| 존재 | 출금정상 | 출금 취소 처리 | |
| | 출금처리중 | 전문을 Drop 처리 | 취소전문 들어옴 |
| | 출금취소처리중 | 전문을 Drop 처리 | 취소전문 들어옴 |
| | 출금취소정상 | 출금취소정상 전문 응답 | |
| | 출금오류 | 출금취소정상 전문 응답 및 저장 | |
| 미존재 | 출금취소정상 | 출금취소정상 전문 저장 | 출금 전문 역전 대비 |
